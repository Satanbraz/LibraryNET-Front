<nz-layout class="app-layout">
  <nz-back-top></nz-back-top>
  <nz-sider class="menu-sidebar" [nzTrigger]="ref"
    [nzWidth]="256" [(nzCollapsed)]="isCollapsed" (nzCollapsedChange)="onCollapse($event)">
    <app-sidebar [isMenuCollapsed]="isCollapsed"></app-sidebar>
  </nz-sider>
  <ng-template #ref>
    @if (!isCollapsed) {
      <span nz-icon nzType="caret-left" nzTheme="outline"></span>
    }
    @else {
      <span nz-icon nzType="caret-right" nzTheme="outline"></span>
    }
  </ng-template>

  <nz-drawer *ngIf="isMobileView" [nzClosable]="false" [nzWrapClassName]="'mobileMenu'" 
    [nzVisible]="isMobileMenuOpen" nzPlacement="left" (nzOnClose)="toggleMobileMenu()">
    <div class="mobileMenu-handler" (click)="toggleMobileMenu()"></div>
    <app-sidebar></app-sidebar>
  </nz-drawer>
  <nz-layout>
    <nz-header>
      <app-header [isCollapsed]="isCollapsed"></app-header>
    </nz-header>
    <app-breadcrumb style="margin-top: 64px; z-index: 1; right: auto; left:auto; width: 100%;"></app-breadcrumb>
    <nz-content>
      <div class="inner-content">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
    <nz-footer>
      <app-footer></app-footer>
    </nz-footer>
  </nz-layout>
</nz-layout>